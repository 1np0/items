/* Responsive Design - Mobile First Approach */

/* Mobile Devices (320px - 768px) */
@media screen and (max-width: 768px) {
    .container {
        padding: 10px;
    }

    .header {
        padding: 15px 0;
        margin-bottom: 20px;
    }

    .header h1 {
        font-size: 1.8rem;
    }

    .header p {
        font-size: 1rem;
    }

    /* Form Grid - Stack on mobile */
    .form-grid {
        grid-template-columns: 1fr;
        gap: 15px;
    }

    .form-group.full-width {
        grid-column: 1;
    }

    /* Form controls */
    .form-control {
        padding: 10px;
        font-size: 16px;
        /* Prevent zoom on iOS */
    }

    .item-form {
        padding: 20px 15px;
    }

    /* Filter controls */
    .filter-controls {
        grid-template-columns: 1fr;
        gap: 15px;
        padding: 15px;
    }

    /* Table responsive wrapper - Fix horizontal scroll */
    .table-container {
        border-radius: 0;
        border-left: 0;
        border-right: 0;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        scroll-behavior: smooth;
        position: relative;
        max-width: 100vw;
        margin-bottom: 20px;
    }

    .table-wrapper {
        border-radius: 0;
        border-left: 0;
        border-right: 0;
        min-width: 900px;
        /* Ensure minimum width for horizontal scroll */
        width: 100%;
    }

    /* Add visual indicator for scrollable table */
    .table-container::before {
        content: '';
        display: block;
        height: 1px;
        background: linear-gradient(to right, transparent, #e9ecef 20%, #e9ecef 80%, transparent);
        margin-bottom: 10px;
    }

    .table-container::after {
        content: '← Geser untuk melihat lebih banyak →';
        display: block;
        text-align: center;
        font-size: 0.75rem;
        color: #6c757d;
        padding: 8px 0;
        background: #f8f9fa;
        border: 1px dashed #dee2e6;
        border-radius: 4px;
        margin: 10px 20px;
    }

    /* Show scrollbar for better UX */
    .table-container::-webkit-scrollbar {
        height: 6px;
    }

    .table-container::-webkit-scrollbar-track {
        background: #f1f1f1;
        border-radius: 3px;
    }

    .table-container::-webkit-scrollbar-thumb {
        background: #c1c1c1;
        border-radius: 3px;
    }

    .table-container::-webkit-scrollbar-thumb:hover {
        background: #a8a8a8;
    }

    /* Make table headers sticky for better UX */
    .items-table thead {
        position: sticky;
        top: 0;
        z-index: 10;
        background: white;
    }

    /* Table headers and cells */
    .items-table th,
    .items-table td {
        padding: 8px 6px;
        font-size: 0.8rem;
    }

    /* Hide less important columns on mobile */
    .items-table th:nth-child(3),
    /* Barcode */
    .items-table td:nth-child(3) {
        display: none;
    }

    .items-table th:nth-child(7),
    /* Rak */
    .items-table td:nth-child(7) {
        display: none;
    }

    .items-table th:nth-child(10),
    /* Harga Pokok */
    .items-table td:nth-child(10) {
        display: none;
    }

    .items-table th:nth-child(12),
    /* Tipe */
    .items-table td:nth-child(12) {
        display: none;
    }

    .items-table th:nth-child(13),
    /* System HPP */
    .items-table td:nth-child(13) {
        display: none;
    }

    .items-table th:nth-child(16),
    /* Keterangan */
    .items-table td:nth-child(16) {
        display: none;
    }

    .items-table th:nth-child(17),
    /* Supplier */
    .items-table td:nth-child(17) {
        display: none;
    }

    /* Improve checkbox and action buttons for mobile */
    .items-table input[type="checkbox"] {
        width: 18px;
        height: 18px;
        cursor: pointer;
    }

    /* Action buttons in table */
    .action-buttons {
        flex-direction: column;
        gap: 4px;
        min-width: 60px;
    }

    .action-btn {
        padding: 6px 8px;
        font-size: 0.75rem;
        width: 100%;
        text-align: center;
        border-radius: 4px;
        min-height: 28px;
        border: 1px solid transparent;
    }

    .action-btn.edit {
        background: #fff3cd;
        color: #856404;
        border-color: #ffeaa7;
    }

    .action-btn.delete {
        background: #f8d7da;
        color: #721c24;
        border-color: #f5c6cb;
    }

    /* Form header and actions */
    .form-header {
        flex-direction: column;
        gap: 15px;
        text-align: center;
    }

    .table-header {
        flex-direction: column;
        gap: 15px;
        align-items: stretch;
    }

    /* Fix table actions buttons size and position */
    .table-actions {
        justify-content: center;
        flex-wrap: wrap;
        gap: 8px;
    }

    /* Make export and delete buttons smaller on mobile */
    .table-actions .btn {
        padding: 8px 12px;
        font-size: 0.85rem;
        font-weight: 500;
        border-radius: 6px;
        min-height: 36px;
        white-space: nowrap;
    }

    .table-actions .btn .icon {
        font-size: 0.9rem;
        margin-right: 4px;
    }

    /* Alternative: Move to floating action button for better UX */
    .table-actions-mobile {
        position: fixed;
        bottom: 20px;
        right: 20px;
        display: flex;
        flex-direction: column;
        gap: 10px;
        z-index: 1000;
    }

    .fab-btn {
        width: 56px;
        height: 56px;
        border-radius: 50%;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border: none;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        transition: all 0.3s ease;
    }

    .fab-btn:hover {
        transform: scale(1.1);
        box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);
    }

    /* Hide regular table actions on very small screens */
    @media screen and (max-width: 480px) {
        .table-actions {
            display: none;
        }

        .table-actions-mobile {
            display: flex;
        }
    }

    .form-actions {
        flex-direction: column;
        gap: 10px;
    }

    .form-actions .btn {
        width: 100%;
        justify-content: center;
    }

    /* Pagination */
    .pagination-info {
        flex-direction: column;
        gap: 15px;
        text-align: center;
    }

    /* Modal adjustments */
    .modal-content {
        width: 95%;
        margin: 10px;
        max-height: 95vh;
    }

    .modal-header {
        padding: 15px;
    }

    .modal-body {
        padding: 20px 15px;
    }

    /* Toggle form button */
    #toggleForm {
        width: 100%;
        justify-content: center;
    }

    /* Price and stock text */
    .items-table .harga,
    .items-table .stok {
        font-size: 0.8rem;
    }
}

/* Tablet Devices (769px - 1024px) */
@media screen and (min-width: 769px) and (max-width: 1024px) {
    .container {
        padding: 15px;
    }

    .form-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 18px;
    }

    /* Filter controls */
    .filter-controls {
        grid-template-columns: repeat(2, 1fr);
    }

    /* Table adjustments */
    .items-table th,
    .items-table td {
        padding: 10px 8px;
        font-size: 0.85rem;
    }

    /* Hide some columns on tablet */
    .items-table th:nth-child(3),
    /* Barcode */
    .items-table td:nth-child(3) {
        display: none;
    }

    .items-table th:nth-child(7),
    /* Rak */
    .items-table td:nth-child(7) {
        display: none;
    }

    .items-table th:nth-child(16),
    /* Keterangan */
    .items-table td:nth-child(16) {
        display: none;
    }

    .items-table th:nth-child(17),
    /* Supplier */
    .items-table td:nth-child(17) {
        display: none;
    }

    /* Modal adjustments */
    .modal-content {
        width: 85%;
    }
}

/* Small Mobile Devices (320px - 480px) */
@media screen and (max-width: 480px) {
    .header h1 {
        font-size: 1.5rem;
    }

    .header p {
        font-size: 0.9rem;
    }

    .form-header h2,
    .filter-header h3,
    .table-header h3 {
        font-size: 1.1rem;
    }

    /* More aggressive column hiding */
    .items-table th:nth-child(6),
    /* Rak */
    .items-table td:nth-child(6) {
        display: none;
    }

    .items-table th:nth-child(9),
    /* Merek */
    .items-table td:nth-child(9) {
        display: none;
    }

    .items-table th:nth-child(11),
    /* Harga Jual */
    .items-table td:nth-child(11) {
        display: none;
    }

    .items-table th:nth-child(14),
    /* Status Jual */
    .items-table td:nth-child(14) {
        display: none;
    }

    /* Keep only essential columns: Code, Name, Stock, Unit, Price, Actions */
    .items-table th:nth-child(1),
    /* Checkbox */
    .items-table th:nth-child(2),
    /* Code */
    .items-table th:nth-child(4),
    /* Name */
    .items-table th:nth-child(5),
    /* Stock */
    .items-table th:nth-child(8),
    /* Type */
    .items-table th:nth-child(18) {
        /* Actions */
        display: table-cell;
    }

    .items-table td:nth-child(1),
    /* Checkbox */
    .items-table td:nth-child(2),
    /* Code */
    .items-table td:nth-child(4),
    /* Name */
    .items-table td:nth-child(5),
    /* Stock */
    .items-table td:nth-child(8),
    /* Type */
    .items-table td:nth-child(18) {
        /* Actions */
        display: table-cell;
    }

    /* Hide all other columns */
    .items-table th:not(:nth-child(1)):not(:nth-child(2)):not(:nth-child(4)):not(:nth-child(5)):not(:nth-child(8)):not(:nth-child(18)),
    .items-table td:not(:nth-child(1)):not(:nth-child(2)):not(:nth-child(4)):not(:nth-child(5)):not(:nth-child(8)):not(:nth-child(18)) {
        display: none;
    }

    /* Adjust table for small screens */
    .items-table th:nth-child(2),
    .items-table td:nth-child(2) {
        min-width: 80px;
        font-weight: bold;
    }

    .items-table th:nth-child(4),
    .items-table td:nth-child(4) {
        min-width: 120px;
    }

    .items-table th:nth-child(5),
    .items-table td:nth-child(5) {
        min-width: 60px;
        text-align: right;
    }

    .items-table th:nth-child(8),
    .items-table td:nth-child(8) {
        min-width: 50px;
        text-align: center;
    }
}

/* Landscape orientation on mobile */
@media screen and (max-width: 768px) and (orientation: landscape) {
    .form-grid {
        grid-template-columns: repeat(3, 1fr);
        gap: 15px;
    }

    .filter-controls {
        grid-template-columns: repeat(3, 1fr);
    }

    /* Show more columns in landscape */
    .items-table th:nth-child(3),
    /* Barcode */
    .items-table td:nth-child(3) {
        display: table-cell;
    }

    .items-table th:nth-child(6),
    /* Rak */
    .items-table td:nth-child(6) {
        display: table-cell;
    }

    .items-table th:nth-child(9),
    /* Merek */
    .items-table td:nth-child(9) {
        display: table-cell;
    }
}

/* Large Desktop (1200px+) */
@media screen and (min-width: 1200px) {
    .container {
        max-width: 1600px;
        padding: 25px;
    }

    .form-grid {
        grid-template-columns: repeat(4, 1fr);
        gap: 25px;
    }

    .filter-controls {
        grid-template-columns: repeat(4, 1fr);
    }

    /* Show all columns on large screens */
    .items-table th,
    .items-table td {
        padding: 15px 12px;
        font-size: 0.9rem;
    }

    .items-table th:nth-child(2),
    .items-table td:nth-child(2) {
        min-width: 120px;
    }

    .items-table th:nth-child(4),
    .items-table td:nth-child(4) {
        min-width: 200px;
    }

    .items-table th:nth-child(10),
    .items-table td:nth-child(10),
    .items-table th:nth-child(11),
    .items-table td:nth-child(11) {
        min-width: 100px;
    }
}

/* High DPI / Retina displays */
@media (-webkit-min-device-pixel-ratio: 2),
(min-resolution: 192dpi) {

    .form-control,
    .btn {
        border-width: 1px;
    }
}

/* Touch device optimizations */
@media (hover: none) and (pointer: coarse) {

    .btn,
    .form-control,
    .action-btn {
        min-height: 44px;
        /* Apple's recommended touch target */
    }

    .action-btn {
        min-height: 32px;
    }

    /* Larger touch targets */
    .items-table th,
    .items-table td {
        padding: 12px 10px;
    }
}

/* Print styles */
@media print {

    .input-section,
    .filter-section,
    .form-actions,
    .table-actions,
    .pagination-controls,
    .modal {
        display: none !important;
    }

    .container {
        max-width: none;
        padding: 0;
    }

    .items-table {
        border-collapse: collapse;
    }

    .items-table th,
    .items-table td {
        border: 1px solid #000;
        padding: 8px;
        font-size: 12px;
    }

    .items-table th {
        background: #f0f0f0 !important;
        -webkit-print-color-adjust: exact;
    }
}